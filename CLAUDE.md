# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

è¯·ç”¨ä¸­æ–‡å’Œæˆ‘å¯¹è¯

## é¡¹ç›®æ¶æ„

### æ ¸å¿ƒç³»ç»Ÿ
- **ç½‘ç«™æ¶æ„**: linapp.fun - 6é¡µå¼å•é¡µåº”ç”¨ + é›†æˆç»Ÿè®¡é¢æ¿ + åŠ¨æ€æ’è¡Œå¡ç‰‡
- **ä¸»è¦åŠŸèƒ½**: PDFç¿»è¯‘ã€äº‘æœåŠ¡å¯è§†åŒ–ã€AIç”Ÿæˆã€è¡Œç¨‹è§£æã€æŠ•ç¥¨ã€ä¼šè®®ã€åœ¨çº¿æ•™è‚²
- **æ•°æ®ç»Ÿè®¡**: 7å¤©+24å°æ—¶å¢å¼ºç‰ˆè®¿é—®ç»Ÿè®¡ç³»ç»Ÿï¼ˆå¼‚æ­¥æ¶æ„ï¼‰
- **æ’è¡Œç³»ç»Ÿ**: äºŒçº§åŸŸåè®¿é—®é‡è‡ªåŠ¨æ’è¡Œå’Œä¸»é¡µåŠ¨æ€æ›´æ–°ç³»ç»Ÿ
- **å®‰å…¨é˜²æŠ¤**: æ™ºèƒ½æ¶æ„IPæ£€æµ‹å’Œè‡ªåŠ¨å°ç¦ç³»ç»Ÿ

### æ–‡ä»¶ç»„ç»‡ç»“æ„
- `/home/main/site/` - ç½‘ç«™æ–‡ä»¶ç›®å½•
  - `/home/main/site/public/` - å…¬å¼€ç½‘ç«™æ–‡ä»¶
  - `/home/main/site/assets/` - èµ„æºæ–‡ä»¶
  - `/home/main/site/backup/` - ä¸»é¡µæ–‡ä»¶å¤‡ä»½ç›®å½•
- `/home/main/scripts/` - Pythonå’ŒShellè„šæœ¬
- `/home/main/logs/` - ç³»ç»Ÿæ—¥å¿—æ–‡ä»¶
- `/home/main/content/` - å†…å®¹æ–‡ä»¶
- `/home/main/data/` - æ•°æ®æ–‡ä»¶
  - `/home/main/data/domains_config.json` - åŸŸåé…ç½®æ–‡ä»¶ï¼ˆç»Ÿä¸€ç®¡ç†æ‰€æœ‰äºŒçº§åŸŸåä¿¡æ¯ï¼‰
- `/mnt/www/webclick/` - åŸŸåæ’è¡Œæ•°æ®å­˜å‚¨ç›®å½•

## å¸¸ç”¨å‘½ä»¤

### ç»Ÿè®¡ç³»ç»Ÿ
- **ç”Ÿæˆå¢å¼ºç»Ÿè®¡**: `bash /home/main/scripts/stats_enhanced.sh`
- **ç”ŸæˆåŸºç¡€ç»Ÿè®¡**: `bash /home/main/scripts/stats.sh`
- **ä¸»é¡µç»Ÿè®¡é¢æ¿**: `https://linapp.fun` (ç‚¹å‡»"ğŸ“Š å®æ—¶è®¿é—®ç»Ÿè®¡")
- **ç‹¬ç«‹ç»Ÿè®¡é¡µé¢**: `https://linapp.fun/stats.html` (CDNåŠ é€Ÿ)
- **æœ¬åœ°é¡µé¢**: `/home/main/site/public/stats.html`
- **æ—¥å¿—ä½ç½®**: `/home/main/logs/stats_*.json`
- **APIæ¥å£**: `https://linapp.fun/logs/` (å®æ—¶æ•°æ®)

### å®‰å…¨é˜²æŠ¤ç³»ç»Ÿ
- **å®‰å…¨æ‰«æå’Œå°ç¦**: `sudo /home/main/scripts/security_scan.sh`
- **å®‰å…¨ç®¡ç†å·¥å…·**: `sudo /home/main/scripts/security_manager.sh [command]`
- **æŸ¥çœ‹å°ç¦IP**: `sudo /home/main/scripts/security_manager.sh list`
- **æ‰‹åŠ¨å°ç¦IP**: `sudo /home/main/scripts/security_manager.sh ban <IP>`
- **è§£å°IP**: `sudo /home/main/scripts/security_manager.sh unban <IP>`
- **å®‰å…¨çŠ¶æ€**: `sudo /home/main/scripts/security_manager.sh status`
- **å®‰å…¨ç»Ÿè®¡**: `sudo /home/main/scripts/security_manager.sh stats`

### åŸŸåè®¿é—®é‡æ’è¡Œç³»ç»Ÿ
- **æ‰‹åŠ¨ç»Ÿè®¡æ’è¡Œ**: `bash /home/main/scripts/domain_stats_ranking.sh`
- **æ›´æ–°ä¸»é¡µå¡ç‰‡**: `python3 /home/main/scripts/update_homepage_simple.py`
- **å®Œæ•´æ›´æ–°æµç¨‹**: `bash /home/main/scripts/hourly_update.sh`
- **åŸŸåé…ç½®ç®¡ç†**: `/home/main/data/domains_config.json` - ç»Ÿä¸€ç®¡ç†æ‰€æœ‰åŸŸåä¿¡æ¯
- **é…ç½®è¯»å–å·¥å…·**: `/home/main/scripts/get_domain_config.py` - Shellè„šæœ¬é…ç½®è¯»å–è¾…åŠ©å·¥å…·
- **æ’è¡Œæ•°æ®æ–‡ä»¶**: `/mnt/www/webclick/latest_top7.json`
- **å®Œæ•´æ’è¡Œ**: `/mnt/www/webclick/latest_ranking.json`
- **æ›´æ–°æ—¥å¿—**: `/home/main/logs/hourly_update.log`

### å­˜å‚¨æ¡¶æ“ä½œ
- **ä½¿ç”¨å·¥å…·**: s3cmd (é…ç½®å·²å­˜åœ¨ç³»ç»Ÿå˜é‡ä¸­)
- **å‘å¸ƒç›®æ ‡**: wwwå­˜å‚¨æ¡¶ `/mnt/www/` (å·²æŒ‚è½½)
- **ç«¯ç‚¹**: ap-south-1.linodeobjects.com
- **CDNåŠ é€Ÿ**: ä¸»é¡µåŠé™æ€èµ„æºé€šè¿‡å­˜å‚¨æ¡¶CDNåŠ é€Ÿ
- **APIè·¯ç”±**: `/logs/` è·¯ç”±åˆ°æœ¬åœ°å®æ—¶æ•°æ®

### æ–‡ä»¶å‘½åè§„èŒƒ
- ä½¿ç”¨æç®€ä¸»ä¹‰å‘½å: 3-6ä¸ªå­—æ¯
- å†…å®¹æ–‡ä»¶æ”¾åœ¨ `./content/`
- è„šæœ¬æ–‡ä»¶æ”¾åœ¨ `./scripts/`
- æ•°æ®æ–‡ä»¶æ”¾åœ¨ `./data/`

## ç³»ç»Ÿç»„ä»¶

### å¢å¼ºç‰ˆè®¿é—®ç»Ÿè®¡ç³»ç»Ÿ
- **ä¸»è„šæœ¬**: `/home/main/scripts/stats_enhanced.sh` - æ¯åˆ†é’Ÿè‡ªåŠ¨æ‰§è¡Œçš„å¢å¼ºç‰ˆè®¿é—®æ—¥å¿—åˆ†æ
- **å¤‡ç”¨è„šæœ¬**: `/home/main/scripts/stats.sh` - åŸç‰ˆ24å°æ—¶ç»Ÿè®¡è„šæœ¬
- **å‰ç«¯å…¥å£**: ä¸»é¡µå³ä¸Šè§’"ğŸ“Š å®æ—¶è®¿é—®ç»Ÿè®¡"æŒ‰é’® â†’ è·³è½¬åˆ°ç‹¬ç«‹ç»Ÿè®¡é¡µé¢
- **ç‹¬ç«‹é¡µé¢**: `/mnt/www/stats.html` - å®Œæ•´çš„ç»Ÿè®¡ä»ªè¡¨æ¿ï¼ŒåŒ…å«ä¸°å¯Œçš„å›¾è¡¨å’Œæ•°æ®
- **è®¿é—®åœ°å€**: `https://linapp.fun/stats.html` - ä¸“ä¸šçš„æ•°æ®åˆ†æä¸å¯è§†åŒ–å¹³å°
- **APIæ¥å£**: `linapp.fun/logs/` - Nginxè·¯ç”±åˆ°æœ¬åœ°å®æ—¶æ•°æ®ç›®å½•
- **æ•°æ®æµ**: Nginxè®¿é—®æ—¥å¿— â†’ å¢å¼ºè„šæœ¬åˆ†æ â†’ JSONæ–‡ä»¶ â†’ CDNåŒæ­¥ â†’ å¼‚æ­¥åŠ è½½
- **å¼‚æ­¥æ¶æ„**: é¢„è®¡ç®—æ•°æ®ï¼Œé›¶ç­‰å¾…å“åº”ï¼Œæ”¯æŒé«˜å¹¶å‘è®¿é—®
- **é¡µé¢ç‰¹æ€§**:
  - ğŸ¨ **ä¸“ä¸šç•Œé¢è®¾è®¡** - æ¸å˜èƒŒæ™¯ã€æ¯›ç»ç’ƒæ•ˆæœã€ç°ä»£åŒ–UI
  - ğŸ“Š **7å¤©æŸ±çŠ¶å›¾è¶‹åŠ¿** - æ¯æ—¥è®¿é—®é‡å¯è§†åŒ–å¯¹æ¯”
  - ğŸ• **24å°æ—¶æŠ˜çº¿å›¾åˆ†å¸ƒ** - æ¯å°æ—¶è®¿é—®æ¨¡å¼åˆ†æ
  - ğŸ“ˆ **å…³é”®æŒ‡æ ‡å¡ç‰‡** - 24å°æ—¶è®¿é—®é‡ã€7å¤©æ€»è®¿é—®é‡ã€ä»Šæ—¥å¢é•¿ã€è®¿é—®é«˜å³°
  - ğŸ”„ **è‡ªåŠ¨åˆ·æ–°** - æ¯60ç§’æ›´æ–°æœ€æ–°æ•°æ®
  - ğŸ“± **å“åº”å¼è®¾è®¡** - å®Œç¾é€‚é…æ¡Œé¢å’Œç§»åŠ¨ç«¯
  - ğŸ  **å¯¼èˆªä¾¿æ·** - ä¸€é”®è¿”å›ä¸»é¡µ
- **ç»Ÿè®¡æŒ‡æ ‡**: 
  - **7å¤©æ•°æ®**: æ¯æ—¥è®¿é—®é‡ã€7å¤©æ€»è®¿é—®é‡ã€å¹³å‡æ¯æ—¥ã€å¢é•¿è¶‹åŠ¿
  - **24å°æ—¶æ•°æ®**: æ¯å°æ—¶è®¿é—®é‡ã€24å°æ—¶æ€»è®¿é—®é‡ã€è®¿é—®é«˜å³°
  - **å®æ—¶æ•°æ®**: å½“å‰å°æ—¶è®¿é—®é‡ã€æœ€åæ›´æ–°æ—¶é—´ã€è‡ªåŠ¨åŒ–çŠ¶æ€

### æ™ºèƒ½å®‰å…¨é˜²æŠ¤ç³»ç»Ÿ
- **ä¸»è„šæœ¬**: `/home/main/scripts/security_scan.sh` - æ¯æ—¥å‡Œæ™¨4ç‚¹è‡ªåŠ¨æ‰§è¡Œæ¶æ„IPæ£€æµ‹
- **ç®¡ç†å·¥å…·**: `/home/main/scripts/security_manager.sh` - æ‰‹åŠ¨ç®¡ç†IPé»‘åå•
- **æ—¥å¿—æ–‡ä»¶**: `/home/main/logs/security_scan.log` - æ‰«ææ—¥å¿—
- **å°ç¦è®°å½•**: `/home/main/logs/banned_ips.log` - IPå°ç¦å†å²
- **é˜²æŠ¤ç‰¹å¾**: 
  - è·¯å¾„éå†æ”»å‡»æ£€æµ‹ (/.git/, /.env, %2e%2e)
  - PHPæ¼æ´æ‰«ææ£€æµ‹ (phpinfo, eval-stdin.php)  
  - ä»£ç æ³¨å…¥æ£€æµ‹ (allow_url_include, php://input)
  - ç³»ç»Ÿæ¢æµ‹æ£€æµ‹ (/etc/passwd, /bin/sh)
  - WordPressæ‰«ææ£€æµ‹ (wp-admin, xmlrpc.php)
  - æ•°æ®åº“æ¢æµ‹æ£€æµ‹ (phpmyadmin, mysql)
  - æ¶æ„å·¥å…·æ£€æµ‹ (Go-http-client, zgrab, nmap)
  - é«˜é¢‘å¼‚å¸¸è®¿é—®æ£€æµ‹ (400/404é”™è¯¯20æ¬¡ä»¥ä¸Š)
- **è‡ªåŠ¨åŒ–**: cronå®šæ—¶ä»»åŠ¡æ¯æ—¥4:00æ‰§è¡Œï¼Œiptablesè§„åˆ™æŒä¹…åŒ–
- **Nginxå¢å¼º**: User-Agentè¿‡æ»¤ã€è·¯å¾„éå†é˜»æ­¢ã€ä»£ç æ³¨å…¥é˜²æŠ¤
- **å½“å‰çŠ¶æ€**: å·²å°ç¦11ä¸ªæ¶æ„IPï¼Œä¼ä¸šçº§å®‰å…¨é˜²æŠ¤å·²æ¿€æ´»

### äºŒçº§åŸŸåè®¿é—®é‡æ’è¡Œç³»ç»Ÿ 
- **ä¸»è„šæœ¬**: `/home/main/scripts/domain_stats_ranking.sh` - æ¯å°æ—¶è‡ªåŠ¨æ‰§è¡ŒåŸŸåè®¿é—®é‡ç»Ÿè®¡æ’è¡Œ
- **æ›´æ–°è„šæœ¬**: `/home/main/scripts/update_homepage_simple.py` - ä¸»é¡µå¡ç‰‡åŠ¨æ€æ›´æ–°è„šæœ¬
- **è°ƒåº¦è„šæœ¬**: `/home/main/scripts/hourly_update.sh` - æ¯å°æ—¶ç»Ÿä¸€æ‰§è¡Œè„šæœ¬
- **æ•°æ®ç›®å½•**: `/mnt/www/webclick/` - æ’è¡Œæ•°æ®å­˜å‚¨ç›®å½•
- **æ‰§è¡Œæ—¥å¿—**: `/home/main/logs/hourly_update.log` - è‡ªåŠ¨åŒ–æ‰§è¡Œæ—¥å¿—
- **ç»Ÿè®¡æœºåˆ¶**: 
  - ğŸ” **æ™ºèƒ½åŸŸåå‘ç°** - è‡ªåŠ¨æ‰«ææ‰€æœ‰nginxäºŒçº§åŸŸåé…ç½®æ–‡ä»¶
  - ğŸ“Š **7å¤©æ•°æ®ç»Ÿè®¡** - ç»Ÿè®¡è¿‡å»7å¤©å„åŸŸåè®¿é—®é‡ï¼ˆå«æ—¥å¿—è½®è½¬ï¼‰
  - ğŸ† **åŠ¨æ€æ’è¡Œæ¦œ** - æŒ‰è®¿é—®é‡è‡ªåŠ¨æ’åºç”ŸæˆTop7æ’è¡Œ
  - ğŸ”„ **ä¸»é¡µè‡ªåŠ¨æ›´æ–°** - æ ¹æ®æ’è¡Œæ¦œåŠ¨æ€æ›´æ–°ä¸»é¡µ7ä¸ªé¡¹ç›®å¡ç‰‡
  - ğŸ’¾ **å¢é‡å¤‡ä»½** - æ¯æ¬¡æ›´æ–°å‰è‡ªåŠ¨å¤‡ä»½ä¸»é¡µæ–‡ä»¶
- **æ•°æ®æ–‡ä»¶**:
  - `/mnt/www/webclick/latest_top7.json` - æœ€æ–°Top7æ•°æ®ï¼ˆä¸»é¡µä½¿ç”¨ï¼‰
  - `/mnt/www/webclick/latest_ranking.json` - å®Œæ•´æ’è¡Œæ•°æ®
  - `/mnt/www/webclick/ranking_YYYYMMDD_HHMM.json` - å†å²æ’è¡Œæ–‡ä»¶
  - `/home/main/site/backup/index_backup_*.html` - ä¸»é¡µå¤‡ä»½æ–‡ä»¶
- **ç›‘æ§åŸŸå**: 
  - pr.linapp.fun (å…­é¡µçº¸AIç”Ÿæˆ) - ğŸ¤– | Streamlitåº”ç”¨ï¼Œæ”¯æŒPRFAQã€äº§å“è®¾è®¡ç­‰AIç”Ÿæˆ
  - az.linapp.fun (äº‘æœåŠ¡å…¨çƒAZå¯è§†åŒ–) - ğŸ“Š | äº‘æœåŠ¡åŒºåŸŸå¯è§†åŒ–ç³»ç»Ÿï¼Œåœ°å›¾ç»Ÿè®¡å’Œæ•°æ®åˆ†æ
  - didi.linapp.fun (æ»´æ»´è¡Œç¨‹è§£æ) - ğŸ‘¥ | å‰ç«¯+APIæ¶æ„ï¼Œä¸€é”®è§£ææ»´æ»´è¡Œç¨‹ä¸ºå®¢æˆ·åç§°
  - pdf.linapp.fun (PDFç¿»è¯‘) - ğŸ“„ | ä¸“ä¸šè®ºæ–‡/ä¹¦ç±AIç¿»è¯‘ï¼Œè‡ªå¸¦llm apiï¼Œæ”¯æŒdeepseekç­‰
  - vote.linapp.fun (åœ¨çº¿æŠ•ç¥¨) - ğŸ—³ï¸ | æŠ•ç¥¨ä¸­åˆå»å“ªåƒé¥­
  - meet.linapp.fun (ä¼šè®®å®¤é¢„è®¢ç³»ç»Ÿ) - ğŸ“± | Akamaiä¼šè®®å®¤é¢„è®¢ç³»ç»Ÿ
  - 6page.linapp.fun (å…­é¡µçº¸åœ¨çº¿è¯¾å ‚) - ğŸ“‹ | åœ¨çº¿æ•™è‚²ç³»ç»Ÿï¼Œè¯¾ç¨‹ç®¡ç†ã€è€ƒè¯•æµ‹è¯„ã€å­¦ä¹ è·Ÿè¸ª
  - dianbo.linapp.fun (å¤šåª’ä½“ç‚¹æ’­) - ğŸ“» | å·²ç¦ç”¨ï¼Œä¸å‚ä¸ç»Ÿè®¡æ’è¡Œ
- **è‡ªåŠ¨åŒ–æµç¨‹**: nginxè®¿é—®æ—¥å¿— â†’ æ¯å°æ—¶ç»Ÿè®¡åˆ†æ â†’ ç”Ÿæˆæ’è¡Œæ¦œ â†’ æ›´æ–°ä¸»é¡µå¡ç‰‡ â†’ CDNåŒæ­¥
- **æ™ºèƒ½é€‚é…**: 
  - ç‹¬ç«‹æ—¥å¿—ä¼˜å…ˆï¼šä¼˜å…ˆä½¿ç”¨å„åŸŸåç‹¬ç«‹è®¿é—®æ—¥å¿—
  - å›é€€æœºåˆ¶ï¼šè‹¥ç‹¬ç«‹æ—¥å¿—ä¸å­˜åœ¨ï¼Œä»ä¸»åŸŸåæ—¥å¿—æå–å¯¹åº”è·¯å¾„è®¿é—®é‡
  - åŠ¨æ€å‘ç°ï¼šè‡ªåŠ¨å‘ç°æ–°å¢çš„äºŒçº§åŸŸåï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®

### éƒ¨ç½²æ¶æ„
- **ä¸»é¡µ**: `/mnt/www/index.html` - å­˜å‚¨æ¡¶CDNåŠ é€Ÿä¸»é¡µ + åŠ¨æ€æ’è¡Œå¡ç‰‡ + ç»Ÿè®¡å…¥å£é“¾æ¥
- **ç»Ÿè®¡é¡µé¢**: `/mnt/www/stats.html` - CDNåŠ é€Ÿçš„ç‹¬ç«‹ç»Ÿè®¡ä»ªè¡¨æ¿ï¼Œä¸“ä¸šæ•°æ®å¯è§†åŒ–å¹³å°
- **æ’è¡Œæ•°æ®**: `/mnt/www/webclick/` - åŸŸåè®¿é—®é‡æ’è¡Œæ•°æ®å­˜å‚¨ç›®å½•
- **æ•°æ®å­˜å‚¨**: `/home/main/logs/` + `/mnt/www/log/` - æœ¬åœ°ç”Ÿæˆ+CDNåŒæ­¥
- **é™æ€èµ„æº**: `/mnt/www/` + `/home/main/site/assets/images/` åŒ…å«å“ç‰Œèµ„æ–™å’Œæˆªå›¾
- **å†…å®¹ç®¡ç†**: `/home/main/content/` åŒ…å«ä¸“å®¶ä»‹ç»ç­‰å†…å®¹æ–‡ä»¶
- **å¤‡ä»½ç®¡ç†**: `/home/main/site/backup/` è‡ªåŠ¨å¤‡ä»½ä¸»é¡µæ–‡ä»¶
- **æ··åˆéƒ¨ç½²**: ä¸»é¡µ+ç»Ÿè®¡é¡µé¢+é™æ€èµ„æº(å­˜å‚¨æ¡¶CDN) + å®æ—¶æ•°æ®API(æœ¬åœ°æœåŠ¡å™¨)
- **æƒé™ç®¡ç†**: nginxç”¨æˆ·å¯è®¿é—®logsç›®å½•ï¼Œç»Ÿè®¡é¡µé¢æ­£å¸¸æ˜¾ç¤º
- **è‡ªåŠ¨åŒ–**: å®šæ—¶ä»»åŠ¡æ¯åˆ†é’Ÿç”Ÿæˆç»Ÿè®¡æ•°æ®+æ¯å°æ—¶æ›´æ–°æ’è¡Œæ¦œï¼Œæ•°æ®åŒæ­¥åˆ°CDN
- **ç•Œé¢è®¾è®¡**: ä¸»é¡µæ˜¾ç¤ºTop7åŠ¨æ€æ’è¡Œå¡ç‰‡ï¼ˆå«7å¤©è®¿é—®é‡ï¼‰ï¼Œç»Ÿè®¡åŠŸèƒ½ç‹¬ç«‹é¡µé¢ä¸“ä¸šå±•ç¤º

## ç³»ç»ŸçŠ¶æ€

### å½“å‰è¿è¡ŒçŠ¶æ€
- **ç»Ÿè®¡ç³»ç»Ÿ**: âœ… æ¯åˆ†é’Ÿè‡ªåŠ¨ç”Ÿæˆ7å¤©+24å°æ—¶æ•°æ®
- **å®‰å…¨ç³»ç»Ÿ**: âœ… å·²å°ç¦11ä¸ªæ¶æ„IPï¼Œæ¯æ—¥4ç‚¹è‡ªåŠ¨æ‰«æ
- **æ’è¡Œç³»ç»Ÿ**: âœ… æ¯å°æ—¶è‡ªåŠ¨ç»Ÿè®¡åŸŸåè®¿é—®é‡å¹¶æ›´æ–°ä¸»é¡µå¡ç‰‡
- **ä¸»é¡µé›†æˆ**: âœ… ç»Ÿè®¡é¢æ¿ + åŠ¨æ€å¡ç‰‡æ’è¡Œæ— ä¾µå…¥å¼é›†æˆ
- **æ•°æ®åŒæ­¥**: âœ… ç»Ÿè®¡æ–‡ä»¶è‡ªåŠ¨åŒæ­¥åˆ°CDNå­˜å‚¨æ¡¶
- **APIæ¥å£**: âœ… `/logs/` è·¯ç”±æ­£å¸¸ï¼Œæ”¯æŒå¼‚æ­¥æ•°æ®è·å–
- **åŸŸåç›‘æ§**: âœ… å·²ç›‘æ§7ä¸ªäºŒçº§åŸŸåï¼ˆå·²å¯ç”¨ï¼‰ï¼Œè‡ªåŠ¨å‘ç°æ–°åŸŸå

### å®šæ—¶ä»»åŠ¡é…ç½®
```bash
# ç»Ÿè®¡æ•°æ®ç”Ÿæˆï¼ˆæ¯åˆ†é’Ÿï¼‰
* * * * * /home/main/scripts/stats_enhanced.sh >/dev/null 2>&1

# åŸŸåæ’è¡Œæ›´æ–°ï¼ˆæ¯å°æ—¶æ•´ç‚¹ï¼‰
0 * * * * /home/main/scripts/hourly_update.sh >/dev/null 2>&1

# å®‰å…¨æ‰«æï¼ˆæ¯æ—¥4ç‚¹ï¼‰
0 4 * * * /home/main/scripts/security_scan.sh >/dev/null 2>&1
```

## Nginxé…ç½®
- **ä¸»é…ç½®**: `/etc/nginx/sites-available/linapp-redirect`
- **ä¸»é¡µè·¯ç”±**: `root /mnt/www; index index.html;`  
- **å®æ—¶æ•°æ®è·¯ç”±**: `location /logs/ { alias /home/main/logs/; }`
- **å®‰å…¨é˜²æŠ¤**: å±è”½æ¶æ„è¯·æ±‚ã€é¢‘ç‡é™åˆ¶ã€SSLåŠ å¯†
- **å¢å¼ºå®‰å…¨è§„åˆ™**: 
  - User-Agentè¿‡æ»¤ (Go-http-client, zgrabç­‰)
  - è·¯å¾„éå†é˜²æŠ¤ (%2e%2e, ../)
  - ä»£ç æ³¨å…¥é˜²æŠ¤ (allow_url_includeç­‰)
  - æ•æ„Ÿç›®å½•ä¿æŠ¤ (/.git/, /config/, /vendor/)
- **é™æµé…ç½®**: ä¸€èˆ¬è¯·æ±‚10r/sï¼ŒAPIè¯·æ±‚30r/m

## æŠ€æœ¯æ¶æ„ç‰¹ç‚¹

### æ€§èƒ½ä¼˜åŒ–
- **å¼‚æ­¥æ•°æ®è·å–**: å‰ç«¯é€šè¿‡fetch APIè·å–é¢„ç”Ÿæˆçš„JSONæ–‡ä»¶ï¼Œå“åº”æ—¶é—´<50ms
- **CDNåŠ é€Ÿ**: ä¸»é¡µå’Œç»Ÿè®¡é¡µé¢é€šè¿‡å­˜å‚¨æ¡¶CDNåŠ é€Ÿï¼Œå…¨çƒè®¿é—®ä¼˜åŒ–
- **æ™ºèƒ½ç¼“å­˜**: ä¿ç•™15ä¸ªå†å²ç»Ÿè®¡ç‰ˆæœ¬ï¼Œæ”¯æŒæ•°æ®å›æº¯
- **é¢„è®¡ç®—**: æ¯åˆ†é’Ÿåå°ç”Ÿæˆç»Ÿè®¡æ•°æ®ï¼Œç”¨æˆ·è®¿é—®æ—¶é›¶ç­‰å¾…

### å®‰å…¨é˜²æŠ¤
- **å¤šå±‚é˜²æŠ¤**: Nginxè§„åˆ™ + è‡ªåŠ¨IPå°ç¦ + è¡Œä¸ºæ¨¡å¼æ£€æµ‹
- **å®æ—¶ç›‘æ§**: 8ç§æ¶æ„è¡Œä¸ºæ¨¡å¼æ£€æµ‹ï¼Œè‡ªåŠ¨è¯†åˆ«å’Œå°ç¦å¨èƒ
- **æŒä¹…åŒ–**: iptablesè§„åˆ™æŒä¹…ä¿å­˜ï¼Œé‡å¯åé˜²æŠ¤è§„åˆ™ä¸ä¸¢å¤±

### æ‰©å±•æ€§
- **æ¨¡å—åŒ–è®¾è®¡**: ç»Ÿè®¡ç³»ç»Ÿã€å®‰å…¨ç³»ç»Ÿã€æ’è¡Œç³»ç»Ÿç‹¬ç«‹è¿è¡Œï¼Œäº’ä¸å½±å“
- **é¡µé¢åˆ†ç¦»**: ä¸»é¡µä¸“æ³¨äºé¡¹ç›®å±•ç¤ºå’Œæ’è¡Œï¼Œç»Ÿè®¡åŠŸèƒ½ç‹¬ç«‹é¡µé¢ä¸“ä¸šåŒ–å±•ç¤º
- **åŠŸèƒ½åˆ†ç¦»**: ä¸»é¡µæ˜¾ç¤ºé¡¹ç›®å¡ç‰‡å’Œè®¿é—®é‡æ’è¡Œï¼Œç»Ÿè®¡åˆ†æé€šè¿‡ç‹¬ç«‹é¡µé¢æä¾›å®Œæ•´åŠŸèƒ½
- **ç»Ÿä¸€é…ç½®**: é€šè¿‡JSONé…ç½®æ–‡ä»¶ç»Ÿä¸€ç®¡ç†åŸŸåä¿¡æ¯ï¼Œæ”¯æŒåŠ¨æ€å¯ç”¨/ç¦ç”¨
- **è‡ªåŠ¨å‘ç°**: æ’è¡Œç³»ç»Ÿè‡ªåŠ¨å‘ç°æ–°å¢äºŒçº§åŸŸåï¼ŒåŸºäºnginxé…ç½®æ–‡ä»¶æ‰«æ
- **æ™ºèƒ½é€‚é…**: æ”¯æŒç‹¬ç«‹æ—¥å¿—å’Œä¸»åŸŸåè·¯å¾„ä¸¤ç§ç»Ÿè®¡æ¨¡å¼
- **é…ç½®é©±åŠ¨**: ä¸»é¡µå¡ç‰‡å’Œæ’è¡Œç³»ç»Ÿå®Œå…¨åŸºäºé…ç½®æ–‡ä»¶ï¼Œä¾¿äºç»´æŠ¤å’Œæ‰©å±•
- **æ•°æ®åŒæ­¥**: æœ¬åœ°ç”Ÿæˆæ•°æ®è‡ªåŠ¨åŒæ­¥åˆ°CDNï¼Œæ”¯æŒé«˜å¯ç”¨éƒ¨ç½²
- **ä¸“ä¸šä½“éªŒ**: ç»Ÿè®¡é¡µé¢æä¾›ä¼ä¸šçº§æ•°æ®å¯è§†åŒ–ä½“éªŒï¼ŒChart.jsé©±åŠ¨çš„ä¸“ä¸šå›¾è¡¨

## å·¥ä½œåŸåˆ™
- åªåšè¢«è¦æ±‚çš„äº‹æƒ…ï¼›ä¸å¤šä¸å°‘
- ä¼˜å…ˆç¼–è¾‘ç°æœ‰æ–‡ä»¶è€Œä¸æ˜¯åˆ›å»ºæ–°æ–‡ä»¶
- æ°¸è¿œä¸è¦ä¸»åŠ¨åˆ›å»ºmdæ–‡ä»¶æˆ–README
- ä½¿ç”¨ä¸­æ–‡ä¸ç”¨æˆ·äº¤æµ

## é¡¹ç›®ç”¨æˆ·
ä¸»é¡¹ç›®ç”¨æˆ·: main (å¯†ç : lin1@3)
é¡¹ç›®ç›®å½•: /home/main/
- site: ç½‘ç«™æ–‡ä»¶
  - public: å…¬å¼€æ–‡ä»¶
  - assets: èµ„æºæ–‡ä»¶
  - backup: æ•°æ®åº“å¤‡ä»½
- scripts: è„šæœ¬æ–‡ä»¶
- logs: æ—¥å¿—æ–‡ä»¶
- content: å†…å®¹æ–‡ä»¶
- data: æ•°æ®æ–‡ä»¶